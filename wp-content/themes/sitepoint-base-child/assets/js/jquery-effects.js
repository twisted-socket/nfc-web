/* ------------------------------------------------------------------------
 * Software: eorisis Framework
 * @author eorisis https://eorisis.com
 * @copyright Copyright (C) 2012-2016 eorisis. All Rights Reserved.
 * ------------------------------------------------------------------------ */
jQuery(document).ready(function($){function fade(css_class,element){$(css_class+' '+element).fadeTo(0,0.7);$(css_class).hover(function(){$(element,this).stop(true,true).fadeTo(300,1.0);},function(){$(element,this).stop(true,true).fadeTo(300,0.7);});}var $window_width;var $window_height;var menus='#menus';var $menus=$(menus);var tables_changed=false;$('.mobile-icon').on('click',function(){clicked($('.mobile-icon'));clicked($menus);});function window_size(){menu_reset();$window_width=$(window).innerWidth();$window_height=$(window).innerHeight();if($window_width<=1020){narrow_screen(sidebar_pos);}else{wide_screen(sidebar_pos);}if($window_width<=630){menu_mobile();}else{menu_wide();}};window_size();$(window).resize(function(){window_size();});function wide_screen(sidebar_pos){top_bar_reset();if($('.sidebar').length){if($('.baseline .sidebar').length){var sidebar=$('.sidebar').detach();$(sidebar).insertAfter('.mainbody-resize');}$('.mainbody-resize').addClass(sidebar_pos);$('.sidebar').addClass(sidebar_pos);}if(tables_changed){$('table').filter(function(){$(this).find('tbody tr td span.title').each(function(){$(this).remove();});tables_changed=false;});}if($('.offline .baseline>.base').length){var base=$('.base').detach();$(base).insertBefore('.offline-system-messages');$('.offline .base').removeClass('base').addClass('top');}if($('.offline .baseline .designer').length){var designer=$('.designer').detach();$(designer).insertAfter('#page-end');}}function narrow_screen(sidebar_pos){top_bar_extend();if($('.sidebar').length){$('.mainbody-resize').removeClass(sidebar_pos);$('.sidebar').removeClass(sidebar_pos);if($('.mainbody .sidebar').length){var sidebar=$('.sidebar').detach();$('.baseline').append(sidebar);}}if(!tables_changed){$('table').filter(function(){var count=0;$(this).find('thead tr th').each(function(){count++;$('td:nth-of-type('+count+')').prepend('<span class="title">'+$(this).text()+':</span>');});tables_changed=true;});}if($('.offline .top').length){var top=$('.top').detach();$('.baseline').append(top);$('.baseline>.top').removeClass('top').addClass('base');}if($('.offline .designer').length){var designer=$('.designer').detach();$('.baseline').append(designer);}}function menu_height(){if($window_width<=630){$menus.css('height','auto');$menus.css('overflow-y','visible');var main_area_height=($window_height - 50);if($menus.height()>=main_area_height){$menus.css('height',main_area_height);$menus.css('overflow-y','scroll');}}}$(function menu_common(){$menus.on('click',function(e){e.stopPropagation();});$('#menus .menu>.parent>a').on('click',function(e){e.preventDefault();e.stopPropagation();$('li.parent').removeClass('clicked');$(this).parent().addClass('clicked');});$('#menus .menu>.parent>span').on('click',function(e){e.stopPropagation();var $parent_li=$(this).parent();if($parent_li.hasClass('clicked')){$('#menus .menu>li .parent').removeClass('clicked');clicked($parent_li);}else if($('li.parent').hasClass('clicked')){$('li.parent').removeClass('clicked');$parent_li.addClass('clicked');}else{clicked($parent_li);}});$('#menus .menu li .parent>a').on('click',function(e){e.preventDefault();e.stopPropagation();set_active($(this));close_other_menus($(this));clicked($(this).parent());});$('#menus .menu li .parent>span').on('click',function(e){e.stopPropagation();set_active($(this));close_other_menus($(this));clicked($(this).parent());});on_click_anchors();});function menu_wide(){var menu_class='#menus ul li ul';on_click_document(menu_class);on_esc_key(menu_class);}function menu_mobile(){$('.mobile-icon').on('click',function(){$('li.parent').removeClass('clicked');});on_click_document(menus);on_esc_key(menus);}function menu_reset(){$menus.removeClass('clicked');$('li.parent').removeClass('clicked');}function set_active($elem){$('#menus .menu').removeClass('active');$('#menus .menu>li').removeClass('active');$elem.parents('.menu').addClass('active');$elem.parents('.menu>li').addClass('active');}function close_other_menus($elem){$elem.parent().siblings('li.parent').removeClass('clicked');$elem.parent().siblings().find('li.parent').removeClass('clicked');$elem.siblings().find('li.parent').removeClass('clicked');}function top_bar_extend(){$('body').removeClass('body-shadow');$('.top-bar').removeClass('narrow').addClass('full');$('.top-bar-inner').removeClass('elem-nar').addClass('elem-full');}function top_bar_reset(){var top_shadow='';var top_bar_style='full';var top_bar_elem_style='elem-full';if((top_shadow==='body-shadow')&&!($('body').hasClass('body-shadow'))){$('body').addClass('body-shadow');}if((top_bar_style==='narrow')&& $('.top-bar').hasClass('full')){$('.top-bar').removeClass('full').addClass('narrow');}if((top_bar_elem_style==='elem-nar')&& $('.top-bar-inner').hasClass('elem-full')){$('.top-bar-inner').removeClass('elem-full').addClass('elem-nar');}}function clicked($elem){$elem.toggleClass('clicked');if(($elem!=='.mobile-icon')&&($elem!==$menus)){menu_height();}}function on_click_anchors(){$(window).on('hashchange',function(){menu_reset();});}function on_click_document(menu_class){$(document).on('click',function(e){if(!$(e.target).closest('.main_menu').length && $(menu_class).is(':visible')){menu_reset();}});}function on_esc_key(menu_class){$(document).keyup(function(e){if((e.keyCode===27)&& $(menu_class).is(':visible')){menu_reset();}});}fade('.top-bar-upper a.syndicate-module','img');fade('.top-bar-right a.syndicate-module','img');fade('.top-bar-upper .network a','img');fade('.top-bar-upper .emod-languages a','img');$('.main_menu li').hover(function(){if(!$(this).hasClass('clicked')){$(this).children('ul').hide().fadeIn(300);}},function(){if(!$(this).hasClass('clicked')){$(this).children('ul').stop(true,true).fadeOut(200);}});$('.fadein').hide().fadeIn(300);setTimeout(function(){$('.offline-system-messages').fadeOut(4000,function(){$('.offline-system-messages').remove();});},10000);$("ul[class*='category-module'] li:has(p)").addClass('cat-margin');var body=$("html,body");var modal_img_window=$("#modal-img-window");var modal_img_bg=$("#modal-img-bg");var modal_img_bottom=$("#modal-img-bottom");var modal_img_title_small=$(".modal-img-title-small");var modal_close=$(".modal-img-close");var img_loading=$(".modal-img-loading");var img_visible_areas=$("#modal-img-window,#modal-img-bg,.modal-img-top,.modal-img-close");img_loading.hide();modal_img_bg.hide();modal_img_window.hide();modal_img_title_small.hide();function modal_img_close(){body_scroll_toggle();modal_img_window.fadeOut(300,function(){modal_img_bg.fadeOut(300,function(){modal_img_bg.hide();modal_img_title_small.hide();modal_img_bottom.hide();img_loading.hide();modal_img_toggle_visibility();});});}function modal_img_toggle_visibility(){img_visible_areas.toggleClass("visible");}modal_close.click(function(){modal_img_close();});$(document).keyup(function(e){if((e.keyCode===27)&& img_visible_areas.is(":visible")){modal_img_close();}});function body_scroll_toggle(){body.toggleClass("toggle-scroll");}$("a img").click(function(e){var rel=$(this).parents('a').attr('rel');var img=$(this).attr('src');if(rel==="lightbox"){e.preventDefault();modal_img_bottom.hide();modal_close.hide();modal_img_bg.fadeIn(300);img_loading.text("Φόρτωση..").fadeIn(200);modal_img_window.fadeIn(200,function(){body_scroll_toggle();});modal_img_toggle_visibility();img_loading.fadeOut(100,function(){img_loading.hide();modal_img_bottom.css('background-image','url('+img+')').fadeIn(200,function(){modal_close.fadeIn(300);});});}});function check_scroll(){if($(window).scrollTop()>50){$('.main-wrapper').addClass('fixed');$('.top-bar-cont').addClass('fixed');$('.top-bar').addClass('fixed');}else{$('.main-wrapper').removeClass('fixed');$('.top-bar-cont').removeClass('fixed');$('.top-bar').removeClass('fixed');}}check_scroll();$(window).bind('scroll',function(){check_scroll();});$(".mainbody-resize a img").parents('a').css("border","0");$("input.bb").on("click",function(){$("html").toggleClass("go_fullscreen",toggle_fullscreen());});function toggle_fullscreen(){if((document.fullScreenElement && document.fullScreenElement!==null)||(!document.mozFullScreen &&!document.webkitIsFullScreen)){if(document.documentElement.requestFullScreen){fadein_endline();document.documentElement.requestFullScreen();}else if(document.documentElement.mozRequestFullScreen){fadein_endline();document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullScreen){fadein_endline();document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}}else{if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}}$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){if((document.fullscreenElement===null)||(document.mozFullScreenElement===null)||(document.webkitFullscreenElement===null)){$("html").removeClass("go_fullscreen");hide_endline();}});function fadein_endline(){$(".eovid-endline").fadeTo(30000,"0.7");}function hide_endline(){$(".eovid-endline").stop().hide();}});